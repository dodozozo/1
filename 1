if not game:IsLoaded() then
	game.Loaded:Wait()
end;

-- Полный обход проверок экзекьютора
local function bypassChecks()
    getgenv().identifyexecutor = function() return "Wave" end
    getgenv().messagebox = function() return 6 end
    getgenv().messageboxasync = function() return 6 end
    getgenv().request = function() return {StatusCode = 200, Body = ""} end
    
    if not table.find then
        table.find = function(t, value)
            for i, v in pairs(t) do
                if v == value then
                    return i
                end
            end
            return nil
        end
    end
end
pcall(bypassChecks)

local statuslist = {};
statuslist.fallensurvival = {
	name 		= 'Fallen Survival';
	status 		= 'Undetected';
	support 	= {'Zenith'; 'Swift'; 'Wave'; 'Potassium__'; 'Volcano'; 'Velocity'; 'Xeno'; 'Any'};
};
statuslist.tridentsurvival = {
	name 		= 'Trident Survival';
	status 		= 'Undetected';
	support 	= {'Wave'; 'AWP'; 'MacSploit'; 'Velocity'; 'Potassium'; 'Seliware'; 'Xeno'; 'Any'};
};

local players 		= game:GetService('Players');
local localPlayer 	= players.LocalPlayer;
if (not localPlayer) then
	players:GetPropertyChangedSignal('LocalPlayer'):Wait();
	localPlayer = players.LocalPlayer;
end;

local executor = "Wave" -- Принудительно устанавливаем поддерживаемый экзекьютор

-- Пропускаем все проверки функций
local function loadScript(name)
    local dir = 'https://raw.githubusercontent.com/mainstreamed/amongus-hook/main/';
    local url = dir .. name .. '/main.lua'
    
    local success, response = pcall(function()
        return game:HttpGetAsync(url)
    end)
    
    if success and response then
        loadstring(response)()
    end
end

local placeid = game.PlaceId;
if (placeid == 13253735473) then
    loadScript('tridentsurvival')
elseif (placeid == 13800717766 or placeid == 15479377118 or placeid == 16849012343) then
    loadScript('fallensurvival')
else
    warn("Unsupported game")
end
